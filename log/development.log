No valid API key has been set, notifications will not be sent
No valid API key has been set, notifications will not be sent
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6182209596318507150)[0m
  â†³ /Users/cilim/.rbenv/versions/2.5.1/bin/rake:23
  [1m[35m (7.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/cilim/.rbenv/versions/2.5.1/bin/rake:23
Migrating to CreateMovieGenres (20190128101720)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/cilim/.rbenv/versions/2.5.1/bin/rake:23
  [1m[35m (29.9ms)[0m  [1m[35mCREATE TABLE "movie_genres" ("id" bigserial primary key, "movie_id" bigint, "genre_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_e153f3c39b"
FOREIGN KEY ("movie_id")
  REFERENCES "movies" ("id")
, CONSTRAINT "fk_rails_6f8a28d404"
FOREIGN KEY ("genre_id")
  REFERENCES "genres" ("id")
)[0m
  â†³ db/migrate/20190128101720_create_movie_genres.rb:3
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_movie_genres_on_movie_id" ON "movie_genres"  ("movie_id")[0m
  â†³ db/migrate/20190128101720_create_movie_genres.rb:3
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_movie_genres_on_genre_id" ON "movie_genres"  ("genre_id")[0m
  â†³ db/migrate/20190128101720_create_movie_genres.rb:3
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_movie_genres_on_movie_id_and_genre_id" ON "movie_genres"  ("movie_id", "genre_id")[0m
  â†³ db/migrate/20190128101720_create_movie_genres.rb:10
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190128101720"]]
  â†³ /Users/cilim/.rbenv/versions/2.5.1/bin/rake:23
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/cilim/.rbenv/versions/2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ /Users/cilim/.rbenv/versions/2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/cilim/.rbenv/versions/2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/cilim/.rbenv/versions/2.5.1/bin/rake:23
  [1m[35m (1.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(6182209596318507150)[0m
  â†³ /Users/cilim/.rbenv/versions/2.5.1/bin/rake:23
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/cilim/.rbenv/versions/2.5.1/bin/rake:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/cilim/.rbenv/versions/2.5.1/bin/rake:23
No valid API key has been set, notifications will not be sent
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:4
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovie Create (14.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "bla"], ["created_at", "2019-01-28 12:20:08.061381"], ["updated_at", "2019-01-28 12:20:08.061381"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGenre Create (2.6ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "1"], ["created_at", "2019-01-28 12:20:15.984125"], ["updated_at", "2019-01-28 12:20:15.984125"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "2"], ["created_at", "2019-01-28 12:20:22.557343"], ["updated_at", "2019-01-28 12:20:22.557343"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "3"], ["created_at", "2019-01-28 12:20:23.941001"], ["updated_at", "2019-01-28 12:20:23.941001"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  [1m[36mGenre Load (0.7ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" IN ($1, $2, $3)[0m  [["id", 1], ["id", 2], ["id", 3]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMovieGenre Exists (9.0ms)[0m  [1m[34mSELECT  1 AS one FROM "movie_genres" WHERE "movie_genres"."movie_id" IS NULL AND "movie_genres"."genre_id" = $1 LIMIT $2[0m  [["genre_id", 1], ["LIMIT", 1]]
  [1m[36mMovieGenre Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "movie_genres" WHERE "movie_genres"."movie_id" IS NULL AND "movie_genres"."genre_id" = $1 LIMIT $2[0m  [["genre_id", 2], ["LIMIT", 1]]
  [1m[36mMovieGenre Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "movie_genres" WHERE "movie_genres"."movie_id" IS NULL AND "movie_genres"."genre_id" = $1 LIMIT $2[0m  [["genre_id", 3], ["LIMIT", 1]]
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "new"], ["created_at", "2019-01-28 12:21:01.377936"], ["updated_at", "2019-01-28 12:21:01.377936"]]
  [1m[36mMovieGenre Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "movie_genres" WHERE "movie_genres"."movie_id" = $1 AND "movie_genres"."genre_id" = $2 LIMIT $3[0m  [["movie_id", 2], ["genre_id", 1], ["LIMIT", 1]]
  [1m[36mMovieGenre Create (1.1ms)[0m  [1m[32mINSERT INTO "movie_genres" ("movie_id", "genre_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["movie_id", 2], ["genre_id", 1], ["created_at", "2019-01-28 12:21:01.380355"], ["updated_at", "2019-01-28 12:21:01.380355"]]
  [1m[36mMovieGenre Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "movie_genres" WHERE "movie_genres"."movie_id" = $1 AND "movie_genres"."genre_id" = $2 LIMIT $3[0m  [["movie_id", 2], ["genre_id", 2], ["LIMIT", 1]]
  [1m[36mMovieGenre Create (0.6ms)[0m  [1m[32mINSERT INTO "movie_genres" ("movie_id", "genre_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["movie_id", 2], ["genre_id", 2], ["created_at", "2019-01-28 12:21:01.383460"], ["updated_at", "2019-01-28 12:21:01.383460"]]
  [1m[36mMovieGenre Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "movie_genres" WHERE "movie_genres"."movie_id" = $1 AND "movie_genres"."genre_id" = $2 LIMIT $3[0m  [["movie_id", 2], ["genre_id", 3], ["LIMIT", 1]]
  [1m[36mMovieGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "movie_genres" ("movie_id", "genre_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["movie_id", 2], ["genre_id", 3], ["created_at", "2019-01-28 12:21:01.386342"], ["updated_at", "2019-01-28 12:21:01.386342"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMovieGenre Load (0.3ms)[0m  [1m[34mSELECT "movie_genres".* FROM "movie_genres" WHERE "movie_genres"."movie_id" = $1[0m  [["movie_id", 2]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
